<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="Icono.png" type="image/x-icon">
    <!--<meta name="google-signin-client_id" content="808752279453-v65b4epu2pjqj8ee5qnj2fe9l7odgqpg.apps.googleusercontent.com">-->

    <script>

        const CLIENT_ID = '808752279453-v65b4epu2pjqj8ee5qnj2fe9l7odgqpg.apps.googleusercontent.com';
        const API_KEY = 'AIzaSyCO7_To8On1vcHoEcjWbMDnOlFPkj-KRbo';
        const SCOPES = "https://www.googleapis.com/auth/drive.metadata.readonly https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.readonly";
        const DISCOVERY_DOC = 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest';

        gapiLoaded = () => {
            gapi.load("client", initializeGapiClient);
        }

        async function initializeGapiClient() {
            await gapi.client.init({
                apiKey: API_KEY,
                discoveryDocs: [DISCOVERY_DOC],
            });
            gapiInited = true;
        }

        function gisLoaded() {
            tokenClient = google.accounts.oauth2.initTokenClient({
                client_id: CLIENT_ID,
                scope: SCOPES,
                callback: '', // defined later
            });
        }

    </script>

    <script src="https://accounts.google.com/gsi/client" onload="gisLoaded(); Start();" async></script>
    <script async defer src="https://apis.google.com/js/api.js" onload="gapiLoaded();"></script>
    <script src="Options.js"></script>
    <script src="helpers/shuffleArray.js"></script>
    <script src="helpers/IDaIMG.js"></script>
    <script src="helpers/listAllFiles.js"></script>
    <script src="helpers/OrganizarFotos.js"></script>
    <script src="helpers/SubirConfiguracion.js"></script>
    <script src="helpers/CargarImagen.js"></script>
    <script src="helpers/ActualizarTextos.js"></script>
    <script src="helpers/Cargar.js"></script>

    <link rel="stylesheet" href="index.css">

</head>

<body>

    <button id="SignIn" onclick="tokenClient.requestAccessToken();event.target.remove();">Cargar Reloj</button>

    <div class="Reloj Waiting">
        <img class="Fondo">
    </div>

    <div class="Reloj NoWaiting">
        <img class="Fondo">
    </div>

    <div class="ProgressImagen">
        <div></div>
    </div>

    <div class="RedDeClick Hidden" onclick="document.querySelector('div.Menu.Principal').classList.remove('Hidden');document.querySelector('div.RedDeClick').classList.remove('Hidden');">
        <p>Cargando imágenes...</p>
        <p class="Porcentaje">0%</p>
        <div class="Progress">
            <div class="Progress"></div>
            <div class="Showed"></div>
        </div>
    </div>

    <div class="Menu Principal Hidden" hidden>
        <button onclick="document.querySelector('div.Menu.Principal').classList.add('Hidden');document.querySelector('div.RedDeClick').classList.add('Hidden');">Volver</button>
        <button onclick="document.querySelector('div.Menu.Principal').classList.add('Hidden');document.querySelector('div.Menu.Config').classList.remove('Hidden');">Configuración</button>
        <button onclick="location.reload();">Cerrar sesión</button>
    </div>

    <div class="Menu Config Hidden">
        <button onclick="document.querySelector('div.Menu.Config').classList.add('Hidden');document.querySelector('div.Menu.Principal').classList.remove('Hidden');">Volver</button>

        <div class="Input">
            <p>Retraso (en segundos): </p>
            <input type="text" class="Delay" onkeypress="return event.charCode >= 48 && event.charCode <= 57">
        </div>

        <button>Editar imágenes</button>
        <button>Editar estilos</button>
        <button onclick="AdaptarConfiguracion();">Guardar configuración</button>
    </div>

    <div class="Menu Fotos Hidden">
        <button>Volver</button>
        <p class="ContadorImagenesCarpetas">1 carpeta - 123 fotos</p>
        <button>Añadir imágenes</button>
    </div>

    <script src="index.js"></script>

</body>

</html>